<template name="AdminDashboardAdminEventsAdminEditEvent">
  <div class="container" id="content">
    <h2 id="page_title">
      Edit Event
    </h2>
    {{> AdminDashboardAdminEventsAdminEditEventEventEditForm}}
  </div>
</template>

<template name="AdminDashboardAdminEventsAdminEditEventEventEditForm">
  <div class="">
    <h2 id="component-title">
      Edit Event
    </h2>
    <form id="form" role="form">
      <div class="form-group">
        <label for="name">
          Event Name
        </label>
        <div class="input-div">
          <input type="text" name="name" value="{{edit_event.name}}" class="form-control" autofocus="autofocus" required="required">
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="longitude">
          Longitude (optional)
        </label>
        <div class="input-div">
          <input type="text" name="longitude" value="{{edit_event.longitude}}" class="form-control" data-type="number">
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="latitude">
          Latitude (optional)
        </label>
        <div class="input-div">
          <input type="text" name="latitude" value="{{edit_event.latitude}}" class="form-control" data-type="number">
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="seats">
          Seats Available
        </label>
        <div class="input-div">
          <input type="text" name="seats" value="{{edit_event.seats}}" class="form-control" data-type="number">
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="type">
          Event Type
        </label>
        <div class="input-div">
          <select class="form-control" name="type">
            <option value="Lecture" {{optionIsSelected edit_event.type "Lecture"}}>
              Lecture
            </option>
            <option value="Panel" {{optionIsSelected edit_event.type "Panel"}}>
              Panel
            </option>
            <option value="Television" {{optionIsSelected edit_event.type "Television"}}>
              Television
            </option>
          </select>
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="topic">
          Event Topic
        </label>
        <div class="input-div">
          <select class="form-control" name="topic">
            {{#each event_topics}}
            <option value="{{_id}}" {{optionIsSelected ../edit_event.topic _id}}>
              {{name}}
            </option>
            {{/each}}
          </select>
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="picture">
          Event Picture
        </label>
        <div class="input-div">
          <input type="text" name="picture" value="{{edit_event.picture}}" class="form-control">
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="imams">
          Imams
        </label>
        <div class="input-div">
          <select class="form-control" name="imams">
            {{#each event_imams}}
            <option value="{{_id}}" {{optionIsSelected ../edit_event.imams _id}}>
              {{first_name}}
            </option>
            {{/each}}
          </select>
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="mosque_id">
          Mosque Hosting Event
        </label>
        <div class="input-div">
          <select class="form-control" name="mosque_id">
            {{#each event_mosques}}
            <option value="{{_id}}" {{optionIsSelected ../edit_event.mosque_id _id}}>
              {{name}}
            </option>
            {{/each}}
          </select>
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="website">
          Website
        </label>
        <div class="input-div">
          <input type="text" name="website" value="{{edit_event.website}}" class="form-control">
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="address_1">
          Address 1
        </label>
        <div class="input-div">
          <input type="text" name="address_1" value="{{edit_event.address_1}}" class="form-control">
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="city">
          City
        </label>
        <div class="input-div">
          <select class="form-control" name="city">
            {{#each mosque_city}}
            <option value="{{_id}}" {{optionIsSelected ../edit_event.city _id}}>
              {{name}}
            </option>
            {{/each}}
          </select>
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="district">
          District
        </label>
        <div class="input-div">
          <input type="text" name="district" value="{{edit_event.district}}" class="form-control">
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="postcode">
          Postcode
        </label>
        <div class="input-div">
          <input type="text" name="postcode" value="{{edit_event.postcode}}" class="form-control">
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="state">
          State
        </label>
        <div class="input-div">
          <input type="text" name="state" value="{{edit_event.state}}" class="form-control" required="required">
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="country">
          Country
        </label>
        <div class="input-div">
          <select class="form-control" name="country">
            {{#each mosque_countries}}
            <option value="{{name}}" {{optionIsSelected ../edit_event.country name}}>
              {{name}}
            </option>
            {{/each}}
          </select>
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="timezone">
          Timezone
        </label>
        <div class="input-div">
          <select class="form-control" name="timezone">
            {{#each mosque_timezones}}
            <option value="{{_id}}" {{optionIsSelected ../edit_event.timezone _id}}>
              {{name}}
            </option>
            {{/each}}
          </select>
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="date">
          Date
        </label>
        <div class="input-div">
          <div class="input-group date">
            <input type="text" name="date" value="{{formatDate edit_event.date 'DD/MM/YYYY'}}" class="form-control" data-type="date" data-format="DD/MM/YYYY">
            <span class="input-group-addon">
              <i class="fa fa-calendar">
              </i>
            </span>
          </div>
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <label for="time">
          Time
        </label>
        <div class="input-div">
          <input type="text" name="time" value="{{secondsToTime edit_event.time 'hh:mm'}}" class="form-control" data-type="time" data-format="hh:mm">
          <span id="help-text" class="help-block">
          </span>
          <span id="error-text" class="help-block">
          </span>
        </div>
      </div>
      <div class="form-group">
        <div class="submit-div">
          <button id="form-submit-button" class="btn btn-success" type="submit">
            <span class="fa fa-check">
            </span>
            Save
          </button>
          <a href="#" id="form-cancel-button" class="btn btn-default">
            Cancel
          </a>
        </div>
      </div>
    </form>
  </div>
</template>
